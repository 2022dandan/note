<template>
    <div class="aside">
        <div class="avatar" v-if="username">
            <el-avatar v-if="userInfo.avatar" :size="40" :src="userInfo.avatar"></el-avatar>
            <span v-else>
                <svg t="1684899440415" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="66154" width="100%" height="100%"><path d="M0 512c0 282.4 229.6 512 512 512s512-229.6 512-512S794.4 0 512 0 0 229.6 0 512z" fill="#C0E0FF" p-id="66155"></path><path d="M709.6 824H315.2c-36 0-65.6-29.6-65.6-65.6 0-117.6 95.2-213.6 213.6-213.6h98.4c117.6 0 213.6 95.2 213.6 213.6 0 36-28.8 65.6-65.6 65.6zM512 528c-90.4 0-164-73.6-164-164S421.6 200 512 200s164 73.6 164 164C676.8 455.2 602.4 528 512 528z" fill="#64B9FF" p-id="66156"></path><path d="M709.6 824H315.2c-36 0-65.6-29.6-65.6-65.6 0-117.6 95.2-213.6 213.6-213.6h98.4c117.6 0 213.6 95.2 213.6 213.6 0 36-28.8 65.6-65.6 65.6zM512.8 528c-90.4 0-164-73.6-164-164C348 273.6 421.6 200 512 200s164 73.6 164 164C676.8 455.2 602.4 528 512.8 528z" fill="#64B9FF" p-id="66157"></path></svg>
            </span>
        </div>
        <div class="avatar" v-else>
            <router-link active-class="active" to='/login' >Login</router-link>
        </div>
        <el-menu class="menu" :collapse="true">
            <el-menu-item index="1" style="padding: 0px;" @click="changModel(1)">
                <!-- <router-link active-class="active" to='/home/note' style="text-decoration:none;"> -->
                    <svg t="1684894886775" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="42826" width="1em" height="1em"><path d="M152.692392 70.240433h664.689508c33.445765 0 50.161436 16.730094 50.161436 50.161436v852.802105c0 33.460187-16.730094 50.175859-50.161436 50.175859H152.692392c-33.445765 0-50.161436-16.730094-50.161436-50.175859V120.401869c0-33.445765 16.730094-50.161436 50.161436-50.161436z" fill="#FFE5C2" p-id="42827"></path><path d="M77.450238 335.109546a12.54757 12.54757 0 0 1-12.54757-12.54757v-32.854443a12.54757 12.54757 0 0 1 25.09514 0v32.854443c0 6.922797-5.624773 12.54757-12.54757 12.54757z m714.850944 675.722716H127.611674A62.709006 62.709006 0 0 1 64.902668 948.137678V396.333036a12.54757 12.54757 0 0 1 25.09514 0v551.804642a37.628288 37.628288 0 0 0 37.613866 37.628289h664.689508a37.628288 37.628288 0 0 0 37.613866-37.628289V697.301653a12.54757 12.54757 0 0 1 25.095141 0v250.821603a62.709006 62.709006 0 0 1-62.709007 62.709006z m50.161436-589.447353a12.54757 12.54757 0 0 1-12.54757-12.533148V358.690325a12.54757 12.54757 0 1 1 25.095141 0v50.161436c0 6.922797-5.624773 12.54757-12.547571 12.54757zM77.450238 205.206137a12.54757 12.54757 0 0 1-12.54757-12.54757V95.321151A62.709006 62.709006 0 0 1 127.611674 32.597722h664.689508a62.709006 62.709006 0 0 1 62.709007 62.709007v87.789724a12.54757 12.54757 0 0 1-25.095141 0V95.321151A37.628288 37.628288 0 0 0 792.315605 57.692863H127.611674A37.628288 37.628288 0 0 0 89.983386 95.335574v97.322993c0 6.922797-5.624773 12.54757-12.54757 12.54757z" fill="#000000" p-id="42828"></path><path d="M140.144822 634.592646a12.54757 12.54757 0 0 1-12.54757-12.54757V321.047614a12.54757 12.54757 0 1 1 25.09514 0v300.997462c0 6.922797-5.624773 12.54757-12.54757 12.54757z" fill="#FFFFFF" p-id="42829"></path><path d="M503.851291 270.9006l-238.043274-3.014301a12.54757 12.54757 0 0 1 0-25.080718l238.043274 3.014301a12.54757 12.54757 0 1 1 0 25.080718z m0 200.660167l-238.043274-3.014301a12.54757 12.54757 0 0 1 0-25.080718l238.043274 3.014301a12.54757 12.54757 0 1 1 0 25.080718z m175.579449 202.160107l-413.622723-5.26421a12.54757 12.54757 0 0 1 0-25.095141l413.622723 5.278633a12.54757 12.54757 0 0 1 0 25.095141z" fill="#000000" p-id="42830"></path><path d="M140.144822 228.512889a12.54757 12.54757 0 0 1-12.54757-12.547571v-43.642468a12.54757 12.54757 0 0 1 25.09514 0v43.642468c0 6.922797-5.624773 12.54757-12.54757 12.547571z" fill="#FFFFFF" p-id="42831"></path><path d="M561.036482 620.545136l-159.512791 37.383106 3.504667-163.796271L763.96098 51.678683a102.342022 102.342022 0 0 1 143.215372-17.306994 102.342022 102.342022 0 0 1 12.792752 143.720159L561.036482 620.545136z" fill="#FF9100" p-id="42832"></path><path d="M410.537751 487.613004l-5.264211 6.518967-3.504666 163.796271 159.51279-37.383106 5.278633-6.518967-156.022546-126.413165z" fill="#FFFCF8" p-id="42833"></path><path d="M462.718336 631.08798a37.368683 37.368683 0 0 0-47.666345-38.637863L401.523691 657.668638l61.209067-26.580658zM930.252343 63.966648L517.8988 574.393154l48.661497 39.37341L919.723922 177.861088A103.841961 103.841961 0 0 0 930.252343 63.966648z" fill="#F7CE08" p-id="42834"></path><path d="M401.768874 670.46139a12.54757 12.54757 0 0 1-12.54757-12.792752l3.504666-163.781849a12.792753 12.792753 0 0 1 2.769119-7.528542L754.672894 43.645353A117.889471 117.889471 0 0 1 789.791668 14.295577a12.576415 12.576415 0 0 1 12.042783 22.066416 92.549148 92.549148 0 0 0-27.835414 23.075992L417.547083 498.660635l-2.999879 143.215371 139.4511-32.594838 142.725007-175.579449a12.576415 12.576415 0 1 1 19.556902 15.792632L570.814933 629.083253a12.54757 12.54757 0 0 1-6.778573 4.254636l-160.522364 36.878319-1.745122 0.245182z" fill="#000000" p-id="42835"></path><path d="M732.346872 421.399331a12.54757 12.54757 0 0 1-9.778451-20.335717l40.887772-50.147014a12.576415 12.576415 0 0 1 19.556903 15.792632l-40.87335 50.175858a12.54757 12.54757 0 0 1-9.792874 4.514241z m70.987519-87.299359a12.54757 12.54757 0 0 1-9.778452-20.306873l116.389532-143.215371A92.058783 92.058783 0 0 0 930.252343 103.585241a85.525393 85.525393 0 0 0-31.094898-58.439948 84.025453 84.025453 0 0 0-25.095141-14.307115 12.619683 12.619683 0 1 1 8.278512-23.825961c12.02836 4.124833 23.220216 10.326506 33.114048 18.316568a110.360929 110.360929 0 0 1 39.878197 76.251729A116.879896 116.879896 0 0 1 930.252343 185.865572l-116.389531 143.720159a12.54757 12.54757 0 0 1-10.528421 4.514241z m26.59508-307.761612a12.576415 12.576415 0 1 1-1.759545-25.080718c6.143983-0.86535 12.345655-1.298025 18.561751-1.254758a12.54757 12.54757 0 0 1 12.287965 12.792753 13.557145 13.557145 0 0 1-12.792752 12.287966 111.630108 111.630108 0 0 0-14.552298 0l-1.745121 1.254757z m-336.116237 541.276221a12.54757 12.54757 0 0 1-7.773724-2.740274l-7.268938-6.273785a12.576415 12.576415 0 1 1 15.792632-19.571325l7.788147 6.273785a12.54757 12.54757 0 0 1-7.788147 22.326022h-0.74997z m-33.35923-27.085444a12.54757 12.54757 0 0 1-7.773724-2.740274l-49.166284-41.147377a12.576415 12.576415 0 1 1 15.807054-19.571326l50.161436 40.382985a12.54757 12.54757 0 0 1-7.773725 22.326022l-1.254757 0.74997z m96.313419 78.025695a12.54757 12.54757 0 0 1-7.773724-2.769119l-38.868623-31.599685a12.576415 12.576415 0 1 1 15.792631-19.571326l38.637863 32.349656a12.54757 12.54757 0 0 1-7.788147 22.326021v-0.749969z" fill="#000000" p-id="42836"></path></svg>
                    <span slot="title" class="gname">笔记</span>
                <!-- </router-link> -->
            </el-menu-item>
            <el-menu-item index="2" style="padding: 0px;" @click="changModel(2)">
                <!-- <router-link active-class="active" to='/home/note' style="text-decoration:none;"> -->
                    <svg t="1684893018360" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16629" width="1em" height="1em"><path d="M512.2 689.4c103.7-59.8 99.1-115 95.1-130.8C602 538 584.6 523 565.8 523c-14.2 0-27.4 8.8-37.1 24.8-3.5 5.7-9.7 9.3-16.4 9.3-6.7 0-12.9-3.5-16.4-9.3-9.8-16.2-22.7-24.8-37.1-24.8-18.8 0-36.3 15-41.5 35.6-4.2 15.8-8.8 71 94.9 130.8zM881.8 193.9h-23v69.4c0 35.6-29 64.6-64.6 64.6-35.6 0-64.6-29-64.6-64.6v-69.4H576.8v69.4c0 35.6-29 64.6-64.6 64.6-35.6 0-64.6-29-64.6-64.6v-69.4H294.8v69.4c0 35.6-29 64.6-64.6 64.6-35.6 0-64.6-29-64.6-64.6v-69.4h-23c-21.3 0-38.7 17.4-38.7 38.7v130.9h816.6V232.6c0-21.4-17.4-38.7-38.7-38.7z" fill="#FDB9D0" p-id="16630"></path><path d="M881.8 155.5h-23v-19.9c0-35.6-29-64.6-64.6-64.6-35.6 0-64.6 29-64.6 64.6v19.9H576.8v-19.9c0-35.6-29-64.6-64.6-64.6-35.6 0-64.6 29-64.6 64.6v19.9H294.8v-19.9c0-35.6-29-64.6-64.6-64.6-35.6 0-64.6 29-64.6 64.6v19.9h-23c-42.5 0-77.1 34.6-77.1 77.1v644.1c0 42.5 34.6 77.1 77.1 77.1h739.1c42.5 0 77.1-34.6 77.1-77.1V232.6c0.1-42.5-34.5-77.1-77-77.1z m38.7 208H103.9V232.6c0-21.3 17.4-38.7 38.7-38.7h23v69.4c0 35.6 29 64.6 64.6 64.6 35.6 0 64.6-29 64.6-64.6v-69.4h152.9v69.4c0 35.6 29 64.6 64.6 64.6 35.6 0 64.6-29 64.6-64.6v-69.4h152.9v69.4c0 35.6 29 64.6 64.6 64.6 35.6 0 64.6-29 64.6-64.6v-69.4h23c21.3 0 38.7 17.4 38.7 38.7v130.9zM768.1 135.6c0-14.4 11.7-26.2 26.2-26.2 14.4 0 26.1 11.7 26.1 26.2v127.7c0 14.4-11.7 26.1-26.1 26.1-14.4 0-26.2-11.7-26.2-26.1V135.6z m-282 0c0-14.4 11.7-26.2 26.2-26.2 14.4 0 26.2 11.7 26.2 26.2v127.7c0 14.4-11.7 26.1-26.2 26.1-14.4 0-26.2-11.7-26.2-26.1V135.6z m-282.1 0c0-14.4 11.7-26.2 26.2-26.2 14.4 0 26.2 11.7 26.2 26.2v127.7c0 14.4-11.7 26.1-26.2 26.1-14.4 0-26.2-11.7-26.2-26.1V135.6z m716.5 741.1c0 21.3-17.4 38.7-38.7 38.7H142.7c-21.3 0-38.7-17.4-38.7-38.7V401.9h816.6v474.8z" fill="#3EBAC4" p-id="16631"></path><path d="M179.6 535.2h127.7c10.6 0 19.2-8.6 19.2-19.2s-8.6-19.2-19.2-19.2H179.6c-10.6 0-19.2 8.6-19.2 19.2s8.6 19.2 19.2 19.2zM179.6 816.7h127.7c10.6 0 19.2-8.6 19.2-19.2s-8.6-19.2-19.2-19.2H179.6c-10.6 0-19.2 8.6-19.2 19.2s8.6 19.2 19.2 19.2zM179.6 676h127.7c10.6 0 19.2-8.6 19.2-19.2s-8.6-19.2-19.2-19.2H179.6c-10.6 0-19.2 8.6-19.2 19.2S169 676 179.6 676zM717.1 535.2h127.8c10.6 0 19.2-8.6 19.2-19.2s-8.6-19.2-19.2-19.2H717.1c-10.6 0-19.2 8.6-19.2 19.2s8.6 19.2 19.2 19.2zM717.1 816.7h127.8c10.6 0 19.2-8.6 19.2-19.2s-8.6-19.2-19.2-19.2H717.1c-10.6 0-19.2 8.6-19.2 19.2s8.6 19.2 19.2 19.2zM717.1 676h127.8c10.6 0 19.2-8.6 19.2-19.2s-8.6-19.2-19.2-19.2H717.1c-10.6 0-19.2 8.6-19.2 19.2s8.6 19.2 19.2 19.2zM576.1 778.2H448.4c-10.6 0-19.2 8.6-19.2 19.2s8.6 19.2 19.2 19.2h127.7c10.6 0 19.2-8.6 19.2-19.2s-8.6-19.2-19.2-19.2zM503 728.3c2.9 1.6 6 2.3 9.2 2.3 3.2 0 6.3-0.8 9.2-2.3 49.4-26.9 85-57.4 105.7-90.5 23.5-37.5 22.4-68.9 17.4-88.7-9.7-38-42.1-64.5-78.8-64.5-19.8 0-38.4 8-53.5 22.6-15.1-14.6-33.7-22.6-53.5-22.6-36.7 0-69.1 26.5-78.7 64.5-5 19.8-6.1 51.2 17.4 88.7 20.7 33.1 56.2 63.5 105.6 90.5z m-85.8-169.7c5.3-20.6 22.7-35.6 41.5-35.6 14.4 0 27.3 8.6 37.1 24.8 3.5 5.7 9.7 9.3 16.4 9.3 6.7 0 12.9-3.5 16.4-9.3 9.7-16 22.9-24.8 37.1-24.8 18.8 0 36.3 15 41.5 35.6 4 15.8 8.6 71-95.1 130.8-103.6-59.8-99-115-94.9-130.8z" fill="#3EBAC4" p-id="16632"></path></svg>
                    <span slot="title" class="gname">日历记事</span>
                <!-- </router-link>                   -->
            </el-menu-item>
            <el-menu-item index="3" style="padding: 0px;" @click="changModel(3)">
                <!-- <router-link active-class="active" to='/home/diary' style="text-decoration:none;"> -->
                    <svg t="1684893076428" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17909" width="1em" height="1em"><path d="M895.547077 997.1712H249.761477c-70.573292 0-127.988185-57.414892-127.988185-127.984246V152.520862c0-70.569354 57.414892-127.984246 127.988185-127.984247h645.7856c27.1872 0 49.230769 22.043569 49.230769 49.23077v874.173046c0 27.1872-22.043569 49.230769-49.230769 49.230769zM249.761477 122.998154c-16.005908 0-29.526646 13.520738-29.526646 29.522708v716.662153c0 16.001969 13.520738 29.522708 29.526646 29.522708h596.554831V122.998154H249.761477z" fill="#594BC8" p-id="17910"></path><path d="M277.661538 362.338462h-208.738461C41.735877 362.338462 19.692308 340.294892 19.692308 313.107692S41.735877 263.876923 68.923077 263.876923h208.738461C304.848738 263.876923 326.892308 285.920492 326.892308 313.107692S304.848738 362.338462 277.661538 362.338462zM277.661538 559.261538h-208.738461C41.735877 559.261538 19.692308 537.217969 19.692308 510.030769S41.735877 460.8 68.923077 460.8h208.738461c27.1872 0 49.230769 22.043569 49.23077 49.230769S304.848738 559.261538 277.661538 559.261538zM277.661538 744.369231h-208.738461C41.735877 744.369231 19.692308 722.325662 19.692308 695.138462S41.735877 645.907692 68.923077 645.907692h208.738461c27.1872 0 49.230769 22.043569 49.23077 49.23077S304.848738 744.369231 277.661538 744.369231z" fill="#594BC8" p-id="17911"></path><path d="M403.692308 218.584615h358.4v208.738462h-358.4zM647.876923 602.584615h-200.861538c-27.1872 0-49.230769-22.043569-49.23077-49.230769s22.043569-49.230769 49.23077-49.230769h200.861538c27.1872 0 49.230769 22.043569 49.230769 49.230769s-22.043569 49.230769-49.230769 49.230769zM533.275569 756.184615H447.015385c-27.191138 0-49.230769-22.043569-49.23077-49.230769s22.039631-49.230769 49.23077-49.230769h86.260184c27.1872 0 49.230769 22.043569 49.230769 49.230769s-22.039631 49.230769-49.230769 49.230769z" fill="#66A8F0" p-id="17912"></path></svg>
                    <span slot="title" class="gname">日记本</span>
                <!-- </router-link>    -->
            </el-menu-item>
            <el-menu-item index="4" style="padding: 0px;" @click="changModel(4)">
                <!-- <router-link active-class="active" to='/home/diary' style="text-decoration:none;"> -->
                    <svg t="1684893254315" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="40415" width="1em" height="1em"><path d="M787.3024 896.4096H239.9232c-81.8688 0-148.2752-66.3552-148.2752-148.2752V276.7872c0-81.8688 66.3552-148.2752 148.2752-148.2752H400.384c18.1248 0 35.5328 7.2192 48.3328 20.0704l106.9568 107.264c12.8 12.8512 30.208 20.0704 48.3328 20.0704h183.296c81.8688 0 148.2752 66.3552 148.2752 148.2752v323.9424c0 81.92-66.4064 148.2752-148.2752 148.2752z" fill="#FF5D50" p-id="40416"></path><path d="M557.4144 379.5456l28.2624 57.2928a48.82432 48.82432 0 0 0 36.7616 26.7264l63.232 9.1648c40.0896 5.8368 56.064 55.04 27.0848 83.3024l-45.7728 44.5952a48.7936 48.7936 0 0 0-14.0288 43.2128l10.8032 62.976c6.8608 39.8848-35.0208 70.3488-70.8608 51.5072l-56.576-29.7472a48.896 48.896 0 0 0-45.4656 0l-56.576 29.7472c-35.84 18.8416-77.7216-11.5712-70.8608-51.5072l10.8032-62.976c2.7136-15.8208-2.56-32-14.0288-43.2128l-45.7728-44.5952c-28.9792-28.2624-13.0048-77.5168 27.0848-83.3024l63.232-9.1648c15.9232-2.304 29.6448-12.288 36.7616-26.7264l28.2624-57.2928c17.9712-36.3008 69.7344-36.3008 87.6544 0z" fill="#FFDF99" p-id="40417"></path></svg>
                    <span slot="title" class="gname">收藏夹</span>
                <!-- </router-link> -->
            </el-menu-item>
            <!-- <el-menu-item index="5" style="padding: 0px;" @click="changModel(5)">
                    <i class="el-icon-document" style="font-size: 30px; color:black;"></i>
                    <span slot="title" class="gname">主题</span>
            </el-menu-item> -->
            <el-menu-item index="6" style="padding: 0px;" @click="changModel(6)">
                <!-- <router-link active-class="active" to='/home/diary' style="text-decoration:none;"> -->
                    <svg t="1684893184498" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33672" width="1em" height="1em"><path d="M48 509.6c0 255.2 207.2 462.4 463.2 462.4s463.2-207.2 463.2-462.4S767.2 47.2 511.2 47.2 48 254.4 48 509.6z" fill="#FCD953" p-id="33673"></path><path d="M511.2 995.2c-268 0-485.6-217.6-485.6-484.8S243.2 24.8 511.2 24.8s485.6 217.6 485.6 484.8-217.6 485.6-485.6 485.6z m0-925.6c-243.2 0-440 197.6-440 440s197.6 440 440 440 440-197.6 440-440-196.8-440-440-440z" fill="#444444" p-id="33674"></path><path d="M514.4 813.6c-71.2 0-128.8-55.2-128.8-123.2v-65.6h258.4v65.6c0 68-58.4 123.2-129.6 123.2zM432 671.2v19.2c0 42.4 37.6 76.8 83.2 76.8s83.2-34.4 83.2-76.8v-19.2H432zM729.6 575.2l-126.4-112 112.8-126.4 34.4 31.2-81.6 91.2L760 540.8l-30.4 34.4z m-429.6 0l-30.4-34.4 91.2-81.6L279.2 368l34.4-31.2 112 126.4-125.6 112z" fill="#444444" p-id="33675"></path></svg>
                    <span slot="title" class="gname">个人</span>
                <!-- </router-link> -->
            </el-menu-item>
        </el-menu>
    </div>
</template>
<script>
    export default {
        name: 'Aside',
        props: ['update'],
        components: {
            
        },
        data() {
            return {
                model: 1,
                username: sessionStorage.getItem('username'),
                userInfo: {},
            }
        },
        mounted() {
            this.getUserInfo()
        },
        watch: {
            update(val) {
                this.userInfo.avatar = val
            }
        },
        methods: {
            changModel(a){
                this.model = a;
                this.$emit('getModel',this.model)
            },
            async getUserInfo() {
                const res = await fetch(`http://localhost:8000/users/getUserInfo?user_name=${this.username}`, {
                    method: 'get',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    mode: 'cors'
                })
                .then(res => res.json())
                .catch(e => {
                    console.log('error', e)
                })
                if (res?.code === 0) {        
                    this.userInfo = {...res.result}
                    // this.form = {...res.result}
                    console.log('userinfo', res.result)
                }
            }
        },
        
    }
</script>
<style>
    .aside .avatar {
        padding: 0px;
        margin: 40px auto 0px;
        width: 40px;
        height: 40px;
        /* border: 1px black solid; */
        border-radius: 5px;
    }
    .menu {
        margin: 0px;
        padding: 0px;
        border: 0;
    }
    .el-menu-item {
        font-size: 30px;
        padding: 0px;
        /* line-height: 0px; */
        margin-top: 30px;
        text-align: center;
    }

    .el-menu-item.is-active svg {
        transform: scale(1.2);
    }

    .el-menu-item svg {
        transition: transform .5s;
    }

    .el-menu-item:hover svg {
        transform: scale(1.2);
    }

    .el-tooltip {
        padding: 0 !important;
    }
    /* .router-link:hover{
        color:#409eff;
    } */
    .gname {
        font-size: 12px;
        margin: 0px;
        padding: 0px;
        height: 20px;
        line-height: 20px;
        /* color:black; */
    }
</style>